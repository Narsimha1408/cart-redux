<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Debouncing and Throttling</title>
  </head>
  <body>
    <input type="text" />
  </body>

  <script>
    let count = 0;
    function work() {
      console.log("Network Request", count);
      count++;
    }

    function debounce(work, delay) {
      let timerId; // undefined
      return function optWorkFn() {
        // console.log(timerId)
        clearTimeout(timerId);
        timerId = setTimeout(function () {
          work();
        }, delay);
      };
    }

    function throttle(work, interval) {
      let flag = true;
      return function optWorkFn() {
        if (flag == true) {
          work(); // NR
          flag = false; // No

          setTimeout(function () {
            flag = true;
          }, interval);
        }
      };
    }

    let input = document.querySelector("input");

    let optimizedFn = throttle(work, 3000);

    input.addEventListener("keydown", optimizedFn);
  </script>
</html>
